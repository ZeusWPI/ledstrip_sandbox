name "ledstrip"
authors "Zeus WPI"
copyright "Copyright Â© 2024, Zeus WPI"
license "MIT"

toolchainRequirements dmd="no" gdc="no" ldc="~>1.30.0"

dependency "lumars" version="~>1.12.1"
dependency "pyd" version="~>0.14.4"
dependency "vibe-d" version="~>0.10.1"
dependency "vibe-stream:tls" version="~>1"

subConfiguration "vibe-stream:tls" "openssl-3.0"
subConfiguration "pyd" "python311"

dflags "--preview=inclusiveincontracts" "--preview=shortenedMethods"
lflags "-flto"

configuration "local-testing" {
	targetType "executable"
	versions "LedstripVirtual"
}

configuration "rpi2-bookworm" {
	targetType "staticLibrary"
	versions "LedstripVirtual" "LedstripWs2811"
}

buildType "release-debug" {
	buildOptions "releaseMode" "optimize" "inline" "debugInfo"
	buildRequirements "requireContracts" "requireBoundsCheck"
}
